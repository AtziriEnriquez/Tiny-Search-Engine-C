
#!/bin/bash

# Testing script for the querier module in Tiny Search Engine

# Set paths to shared TSE output files
SHARED_DIR=~/cs50-dev/shared/tse
FUZZQUERY=$SHARED_DIR/fuzzquery  # Path to fuzzquery

QUERIER=./querier  # Path to querier executable

# === RUNNING STANDARD TEST CASES ===

# 1. Basic valid query test (letters-1)
$QUERIER $SHARED_DIR/output/letters-1 $SHARED_DIR/output/letters-1.index <<EOF
home
home algorithm
EOF

Query: home
Matches 7 documents (ranked):
score 2 doc 1: http://cs50tse.cs.dartmouth.edu/tse/letters/
score 2 doc 3: http://cs50tse.cs.dartmouth.edu/tse/letters/index.html
score 1 doc 2: http://cs50tse.cs.dartmouth.edu/tse/letters/A.html
score 1 doc 4: http://cs50tse.cs.dartmouth.edu/tse/letters/B.html
score 1 doc 5: http://cs50tse.cs.dartmouth.edu/tse/letters/E.html
score 1 doc 6: http://cs50tse.cs.dartmouth.edu/tse/letters/D.html
score 1 doc 7: http://cs50tse.cs.dartmouth.edu/tse/letters/C.html
-----------------------------------------------
Query: home algorithm
Matches 1 documents (ranked):
score 1 doc 2: http://cs50tse.cs.dartmouth.edu/tse/letters/A.html
-----------------------------------------------

# 2. Complex query with AND/OR precedence (toscrape-1)
$QUERIER $SHARED_DIR/output/toscrape-1 $SHARED_DIR/output/toscrape-1.index <<EOF
indonesia OR doctor
glass AND chronicles
stop AND running OR suddenly
EOF

Query: indonesia or doctor
Matches 2 documents (ranked):
score 1 doc 3: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/its-only-the-himalayas_981/index.html
score 1 doc 43: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/horror_31/index.html
-----------------------------------------------
Query: glass and chronicles
Matches 1 documents (ranked):
score 1 doc 55: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fantasy_19/index.html
-----------------------------------------------
Query: stop and running or suddenly
Matches 2 documents (ranked):
score 1 doc 15: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-coming-woman-a-novel-based-on-the-life-of-the-infamous-feminist-victoria-woodhull_993/index.html
score 1 doc 66: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/romance_8/index.html
-----------------------------------------------

# 3. Edge cases: invalid characters (toscrape-2)
$QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index <<EOF
&roaming
roaming-supper
EOF

Error: bad character '&' in query.
Error: bad character '-' in query.
-----------------------------------------------
-----------------------------------------------

# 4. Edge case: Empty query (toscrape-2)
echo "" | $QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index
-----------------------------------------------

# 5. Handling unexpected whitespace (toscrape-2)
$QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index <<EOF
   bachelor    true   
flavor       AND    supper   
   happily OR  shopping  
EOF

Query: bachelor true
Matches 1 documents (ranked):
score 1 doc 88: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/someone-like-you-the-harrisons-2_735/index.html
-----------------------------------------------
Query: flavor and supper
Matches 1 documents (ranked):
score 1 doc 131: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/everyday-italian-125-simple-and-delicious-recipes_618/index.html
-----------------------------------------------
Query: happily or shopping
Matches 7 documents (ranked):
score 2 doc 122: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/close-to-you_798/index.html
score 2 doc 363: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/forever-rockers-the-rocker-12_19/index.html
score 2 doc 453: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/shopaholic-ties-the-knot-shopaholic-3_340/index.html
score 1 doc 255: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/young-adult_21/page-2.html
score 1 doc 445: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/ive-got-your-number_173/index.html
score 1 doc 56: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/10-day-green-smoothie-cleanse-lose-up-to-15-pounds-in-10-days_581/index.html
score 1 doc 137: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/deliciously-ella-every-day-quick-and-easy-recipes-for-gluten-free-snacks-packed-lunches-and-simple-meals_801/index.html
-----------------------------------------------

# 6. Invalid standalone AND/OR (toscrape-2)
$QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index <<EOF
AND
OR
AND dog or jump
jump and or dog
jump dog and
EOF

Error: 'and' cannot be first
Error: 'or' cannot be first
Error: 'and' cannot be first
Error: Consecutive 'and' and 'or' are not allowed.
Error: 'and' cannot be last
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------

# 7. No common documents (toscrape-2)
$QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index <<EOF
careers AND asher
EOF

Query: careers and asher
No documents match.
-----------------------------------------------

# 8. Long query stress test (toscrape-2)
$QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index <<EOF
real AND recently AND you AND tales AND decision AND type
EOF

Query: real and recently and you and tales and decision and type
Matches 1 documents (ranked):
score 1 doc 414: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/once-was-a-time_724/index.html
-----------------------------------------------

# 9. Duplicate words in query (toscrape-2)
$QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index <<EOF
bread bread bread
rivers AND rivers
EOF

Query: bread bread bread
Matches 12 documents (ranked):
score 6 doc 429: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/still-life-with-bread-crumbs_738/index.html
score 1 doc 135: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/its-all-easy-healthy-delicious-weeknight-meals-in-under-30-minutes_706/index.html
score 1 doc 358: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/a-world-of-flavor-your-gluten-free-passport_879/index.html
score 1 doc 421: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fiction_10/index.html
score 1 doc 423: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/eligible-the-austen-project-4_692/index.html
score 1 doc 424: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/i-am-pilgrim-pilgrim-1_703/index.html
score 1 doc 425: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/mr-mercedes-bill-hodges-trilogy-1_717/index.html
score 1 doc 426: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/my-mrs-brown_719/index.html
score 1 doc 427: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/my-name-is-lucy-barton_720/index.html
score 1 doc 428: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/shtum_733/index.html
score 1 doc 450: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-undomestic-goddess_286/index.html
score 1 doc 465: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/a-girls-guide-to-moving-on-new-beginnings-2_359/index.html
-----------------------------------------------
Query: rivers and rivers
Matches 1 documents (ranked):
score 1 doc 387: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-gutsy-girl-escapades-for-your-life-of-epic-adventure_934/index.html
-----------------------------------------------

# === FUZZ TESTING QUERIER ===

echo "Running fuzzquery and piping directly into querier..."
Running fuzzquery and piping directly into querier...
$FUZZQUERY $SHARED_DIR/output/toscrape-1.index 10 1 | $QUERIER $SHARED_DIR/output/toscrape-1 $SHARED_DIR/output/toscrape-1.index
/thayerfs/home/f006bfy/cs50-dev/shared/tse/fuzzquery: generating 10 queries from 2326 words
Query: years and wax
Matches 1 documents (ranked):
score 1 doc 5: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/mesaerion-the-best-science-fiction-stories-1800-1849_983/index.html
-----------------------------------------------
Query: ends or aficionados recognized or classic objects
Matches 2 documents (ranked):
score 1 doc 19: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/sharp-objects_997/index.html
score 1 doc 71: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/mystery_3/index.html
-----------------------------------------------
Query: recognize available or monkey
Matches 2 documents (ranked):
score 1 doc 13: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-black-maria_991/index.html
score 1 doc 3: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/its-only-the-himalayas_981/index.html
-----------------------------------------------
Query: endlessly window patient or lunarian or curdled or nine
Matches 4 documents (ranked):
score 4 doc 14: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-boys-in-the-boat-nine-americans-and-their-epic-quest-for-gold-at-the-1936-berlin-olympics_992/index.html
score 3 doc 17: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-requiem-red_995/index.html
score 1 doc 5: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/mesaerion-the-best-science-fiction-stories-1800-1849_983/index.html
score 1 doc 6: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/olio_984/index.html
-----------------------------------------------
Query: comiques or university watson evaluating and rush or childrens
Matches 55 documents (ranked):
score 4 doc 63: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/childrens_11/index.html
score 1 doc 20: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/soumission_998/index.html
score 1 doc 1: http://cs50tse.cs.dartmouth.edu/tse/toscrape/
score 1 doc 2: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/page-2.html
score 1 doc 23: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/crime_51/index.html
score 1 doc 24: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/erotica_50/index.html
score 1 doc 25: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/cultural_49/index.html
score 1 doc 26: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/politics_48/index.html
score 1 doc 27: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/health_47/index.html
score 1 doc 28: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/novels_46/index.html
score 1 doc 29: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/short-stories_45/index.html
score 1 doc 30: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/suspense_44/index.html
score 1 doc 31: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/christian_43/index.html
score 1 doc 32: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/historical_42/index.html
score 1 doc 33: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/self-help_41/index.html
score 1 doc 34: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/academic_40/index.html
score 1 doc 35: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/spirituality_39/index.html
score 1 doc 36: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/contemporary_38/index.html
score 1 doc 37: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/thriller_37/index.html
score 1 doc 38: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/biography_36/index.html
score 1 doc 39: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/business_35/index.html
score 1 doc 40: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/christian-fiction_34/index.html
score 1 doc 41: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/food-and-drink_33/index.html
score 1 doc 42: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/history_32/index.html
score 1 doc 43: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/horror_31/index.html
score 1 doc 44: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/humor_30/index.html
score 1 doc 45: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/adult-fiction_29/index.html
score 1 doc 46: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/parenting_28/index.html
score 1 doc 47: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/autobiography_27/index.html
score 1 doc 48: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/psychology_26/index.html
score 1 doc 49: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/art_25/index.html
score 1 doc 50: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/paranormal_24/index.html
score 1 doc 51: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/poetry_23/index.html
score 1 doc 52: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/science_22/index.html
score 1 doc 53: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/young-adult_21/index.html
score 1 doc 54: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/new-adult_20/index.html
score 1 doc 55: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fantasy_19/index.html
score 1 doc 56: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/add-a-comment_18/index.html
score 1 doc 57: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/sports-and-games_17/index.html
score 1 doc 58: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/science-fiction_16/index.html
score 1 doc 59: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/default_15/index.html
score 1 doc 60: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/music_14/index.html
score 1 doc 61: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/nonfiction_13/index.html
score 1 doc 62: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/religion_12/index.html
score 1 doc 64: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fiction_10/index.html
score 1 doc 65: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/womens-fiction_9/index.html
score 1 doc 66: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/romance_8/index.html
score 1 doc 67: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/philosophy_7/index.html
score 1 doc 68: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/classics_6/index.html
score 1 doc 69: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/sequential-art_5/index.html
score 1 doc 70: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/historical-fiction_4/index.html
score 1 doc 71: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/mystery_3/index.html
score 1 doc 72: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/travel_2/index.html
score 1 doc 73: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books_1/index.html
score 1 doc 74: http://cs50tse.cs.dartmouth.edu/tse/toscrape/index.html
-----------------------------------------------
Query: totally when diary bedfored or association
Matches 1 documents (ranked):
score 1 doc 15: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-coming-woman-a-novel-based-on-the-life-of-the-infamous-feminist-victoria-woodhull_993/index.html
-----------------------------------------------
Query: worrying
Matches 1 documents (ranked):
score 1 doc 33: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/self-help_41/index.html
-----------------------------------------------
Query: young member or horror
Matches 54 documents (ranked):
score 4 doc 43: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/horror_31/index.html
score 1 doc 1: http://cs50tse.cs.dartmouth.edu/tse/toscrape/
score 1 doc 2: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/page-2.html
score 1 doc 23: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/crime_51/index.html
score 1 doc 24: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/erotica_50/index.html
score 1 doc 25: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/cultural_49/index.html
score 1 doc 26: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/politics_48/index.html
score 1 doc 27: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/health_47/index.html
score 1 doc 28: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/novels_46/index.html
score 1 doc 29: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/short-stories_45/index.html
score 1 doc 30: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/suspense_44/index.html
score 1 doc 31: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/christian_43/index.html
score 1 doc 32: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/historical_42/index.html
score 1 doc 33: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/self-help_41/index.html
score 1 doc 34: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/academic_40/index.html
score 1 doc 35: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/spirituality_39/index.html
score 1 doc 36: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/contemporary_38/index.html
score 1 doc 37: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/thriller_37/index.html
score 1 doc 38: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/biography_36/index.html
score 1 doc 39: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/business_35/index.html
score 1 doc 40: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/christian-fiction_34/index.html
score 1 doc 41: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/food-and-drink_33/index.html
score 1 doc 42: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/history_32/index.html
score 1 doc 44: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/humor_30/index.html
score 1 doc 45: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/adult-fiction_29/index.html
score 1 doc 46: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/parenting_28/index.html
score 1 doc 47: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/autobiography_27/index.html
score 1 doc 48: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/psychology_26/index.html
score 1 doc 49: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/art_25/index.html
score 1 doc 50: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/paranormal_24/index.html
score 1 doc 51: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/poetry_23/index.html
score 1 doc 52: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/science_22/index.html
score 1 doc 53: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/young-adult_21/index.html
score 1 doc 54: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/new-adult_20/index.html
score 1 doc 55: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fantasy_19/index.html
score 1 doc 56: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/add-a-comment_18/index.html
score 1 doc 57: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/sports-and-games_17/index.html
score 1 doc 58: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/science-fiction_16/index.html
score 1 doc 59: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/default_15/index.html
score 1 doc 60: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/music_14/index.html
score 1 doc 61: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/nonfiction_13/index.html
score 1 doc 62: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/religion_12/index.html
score 1 doc 63: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/childrens_11/index.html
score 1 doc 64: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fiction_10/index.html
score 1 doc 65: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/womens-fiction_9/index.html
score 1 doc 66: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/romance_8/index.html
score 1 doc 67: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/philosophy_7/index.html
score 1 doc 68: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/classics_6/index.html
score 1 doc 69: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/sequential-art_5/index.html
score 1 doc 70: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/historical-fiction_4/index.html
score 1 doc 71: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/mystery_3/index.html
score 1 doc 72: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/travel_2/index.html
score 1 doc 73: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books_1/index.html
score 1 doc 74: http://cs50tse.cs.dartmouth.edu/tse/toscrape/index.html
-----------------------------------------------
Query: lyrics
Matches 1 documents (ranked):
score 2 doc 17: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/the-requiem-red_995/index.html
-----------------------------------------------
Query: flying or knot or freed and cruising and blessed
Matches 2 documents (ranked):
score 1 doc 5: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/mesaerion-the-best-science-fiction-stories-1800-1849_983/index.html
score 1 doc 65: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/womens-fiction_9/index.html
-----------------------------------------------

# === FINAL MEMORY TESTING WITH VALGRIND ===
echo "Running Valgrind for memory testing..."
Running Valgrind for memory testing...

# Run Valgrind on querier for letters-1
echo "home algorithm" | valgrind --leak-check=full --show-leak-kinds=all $QUERIER $SHARED_DIR/output/letters-1 $SHARED_DIR/output/letters-1.index
==1761069== Memcheck, a memory error detector
==1761069== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==1761069== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==1761069== Command: ./querier /thayerfs/home/f006bfy/cs50-dev/shared/tse/output/letters-1 /thayerfs/home/f006bfy/cs50-dev/shared/tse/output/letters-1.index
==1761069== 
Query: home algorithm
Matches 1 documents (ranked):
score 1 doc 2: http://cs50tse.cs.dartmouth.edu/tse/letters/A.html
-----------------------------------------------
==1761069== 
==1761069== HEAP SUMMARY:
==1761069==     in use at exit: 64 bytes in 1 blocks
==1761069==   total heap usage: 126 allocs, 125 frees, 32,533 bytes allocated
==1761069== 
==1761069== 64 bytes in 1 blocks are definitely lost in loss record 1 of 1
==1761069==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1761069==    by 0x10CA8E: mem_malloc (mem.c:69)
==1761069==    by 0x10A9EB: processQuery (querier.c:223)
==1761069==    by 0x10A92F: main (querier.c:184)
==1761069== 
==1761069== LEAK SUMMARY:
==1761069==    definitely lost: 64 bytes in 1 blocks
==1761069==    indirectly lost: 0 bytes in 0 blocks
==1761069==      possibly lost: 0 bytes in 0 blocks
==1761069==    still reachable: 0 bytes in 0 blocks
==1761069==         suppressed: 0 bytes in 0 blocks
==1761069== 
==1761069== For lists of detected and suppressed errors, rerun with: -s
==1761069== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)

# Run Valgrind on querier for toscrape-1
echo "indonesia OR chronicles" | valgrind --leak-check=full --show-leak-kinds=all $QUERIER $SHARED_DIR/output/toscrape-1 $SHARED_DIR/output/toscrape-1.index
==1762050== Memcheck, a memory error detector
==1762050== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==1762050== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==1762050== Command: ./querier /thayerfs/home/f006bfy/cs50-dev/shared/tse/output/toscrape-1 /thayerfs/home/f006bfy/cs50-dev/shared/tse/output/toscrape-1.index
==1762050== 
Query: indonesia or chronicles
Matches 3 documents (ranked):
score 1 doc 3: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/its-only-the-himalayas_981/index.html
score 1 doc 55: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/fantasy_19/index.html
score 1 doc 60: http://cs50tse.cs.dartmouth.edu/tse/toscrape/catalogue/category/books/music_14/index.html
-----------------------------------------------
==1762050== 
==1762050== HEAP SUMMARY:
==1762050==     in use at exit: 104 bytes in 1 blocks
==1762050==   total heap usage: 19,043 allocs, 19,042 frees, 335,473 bytes allocated
==1762050== 
==1762050== 104 bytes in 1 blocks are definitely lost in loss record 1 of 1
==1762050==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1762050==    by 0x10CA8E: mem_malloc (mem.c:69)
==1762050==    by 0x10A9EB: processQuery (querier.c:223)
==1762050==    by 0x10A92F: main (querier.c:184)
==1762050== 
==1762050== LEAK SUMMARY:
==1762050==    definitely lost: 104 bytes in 1 blocks
==1762050==    indirectly lost: 0 bytes in 0 blocks
==1762050==      possibly lost: 0 bytes in 0 blocks
==1762050==    still reachable: 0 bytes in 0 blocks
==1762050==         suppressed: 0 bytes in 0 blocks
==1762050== 
==1762050== For lists of detected and suppressed errors, rerun with: -s
==1762050== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)

# Run Valgrind on querier for toscrape-2
echo "careers AND asher" | valgrind --leak-check=full --show-leak-kinds=all $QUERIER $SHARED_DIR/output/toscrape-2 $SHARED_DIR/output/toscrape-2.index
==1763161== Memcheck, a memory error detector
==1763161== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==1763161== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==1763161== Command: ./querier /thayerfs/home/f006bfy/cs50-dev/shared/tse/output/toscrape-2 /thayerfs/home/f006bfy/cs50-dev/shared/tse/output/toscrape-2.index
==1763161== 
Query: careers and asher
No documents match.
-----------------------------------------------
==1763161== 
==1763161== HEAP SUMMARY:
==1763161==     in use at exit: 80 bytes in 1 blocks
==1763161==   total heap usage: 128,472 allocs, 128,471 frees, 1,982,714 bytes allocated
==1763161== 
==1763161== 80 bytes in 1 blocks are definitely lost in loss record 1 of 1
==1763161==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1763161==    by 0x10CA8E: mem_malloc (mem.c:69)
==1763161==    by 0x10A9EB: processQuery (querier.c:223)
==1763161==    by 0x10A92F: main (querier.c:184)
==1763161== 
==1763161== LEAK SUMMARY:
==1763161==    definitely lost: 80 bytes in 1 blocks
==1763161==    indirectly lost: 0 bytes in 0 blocks
==1763161==      possibly lost: 0 bytes in 0 blocks
==1763161==    still reachable: 0 bytes in 0 blocks
==1763161==         suppressed: 0 bytes in 0 blocks
==1763161== 
==1763161== For lists of detected and suppressed errors, rerun with: -s
==1763161== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)

